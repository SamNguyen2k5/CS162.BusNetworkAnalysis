@startuml variant
!theme vibrant
!pragma useIntermediatePackages false

class ObjectQuery<T> {
  -_objs: dict
  -_ObjectType: object
    
  +__len__() -> int
  +__iter__() -> Iterable[T]
  +__getitem__() -> T
  +ids() -> dict_keys
  +query_to_dict(pred: Callable[[T], bool]) -> dict
  +search_to_dict(attr: str, value: Any) -> dict
  
  +to_dict()
  +to_csv(file: str, kwargs)
  +to_json(file: str)
    
  +output_as_csv(file: str, kwargs)
  +output_as_json(file: str)
}

class StopQuery {
  +query(pred: Callable[[Stop], bool]) -> StopQuery
  +search(attr: str, value: Any) -> StopQuery
  +search_by_abc(attr: str, value: Any) -> StopQuery
}

class VariantQuery {
  +query(pred: Callable[[Variant], bool]) -> VariantQuery
  +search(attr: str, value: Any) -> VariantQuery
  +search_by_abc(attr: str, value: Any) -> StopQuery
}

class PathQuery {
  +query(pred: Callable[[Path], bool]) -> PathQuery
  +search(attr: str, value: Any) -> PathQuery
  +search_by_abc(attr: str, value: Any) -> StopQuery
}

class StopQueryInputMixin {
  +from_ndjson(file: str = "stops.json") -> StopQuery
}

class VariantQueryInputMixin {
  +from_ndjson(file: str = "vars.json") -> VariantQuery
}

class PathQueryInputMixin {
  +from_ndjson(file: str = "paths.json") -> PathQuery
}

ObjectQuery <|-d- StopQuery
ObjectQuery <|-d- VariantQuery
ObjectQuery <|-d- PathQuery
StopQueryInputMixin <|-u- StopQuery
VariantQueryInputMixin <|-u- VariantQuery
PathQueryInputMixin <|-u- PathQuery

footer Generated by //py2puml//
@enduml